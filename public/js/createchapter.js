(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{4:function(e,t,r){e.exports=r("ieWW")},ieWW:function(e,t,r){"use strict";r.r(t);var i=r("ToZk"),o=r("byrS"),n=r("7O5W"),s=r("wHSu"),a=r("rT2p");r("9Wh1"),n.c.add(s.c,s.a,s.d,s.b),Vue.component("font-awesome-icon",a.a);new Vue({el:"#app",components:{Headnav:i.a,Remotesearch:o.a},data:function(){var e=this;return{chapters_options:chapters_options,rules:{chaptername:[{required:!0,message:"請輸入章節名",trigger:"blur"},{min:2,max:8,message:"長度必須是2-8位",trigger:["change","blur"]}],content:[{required:!0,message:"請輸入內容",trigger:"blur"},{min:100,max:3e3,message:"長度必須是100-3000",trigger:["change","blur"]}],additionalinfo:[],question:[{validator:function(t,r,i){0==e.form.endchapter?0==e.form.question.length?i(new Error("不是最終章必須填引導問題。")):e.form.question.length<2||e.form.question.length>50?i(new Error("長度必須是2-50")):i():i()},trigger:"change"}],answer:[{required:!0,message:"請輸入回應上一條問題的答案",trigger:"blur"},{min:2,max:30,message:"長度必須是2-30位",trigger:["change","blur"]}]},form:{name:"",periouscontent:"",periouschaptername:"",periousquestion:"",answer:"",additionalinfo:"",content:"",chaptername:"",endchapter:!1,question:"",previouschapterid:"",redirect_option:!1,redirect_id:""}}},methods:{test:function(e){this.form.name=e},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?(t.$refs.redirectselect&&(t.form.redirect_id=t.$refs.redirectselect.value),console.log("submit!"),window.axios.post("/createchapter/"+t.form.previouschapterid,t.form).then(function(e){window.location=document.referrer}).catch(function(e){self.promptError(e.response.data.errors)})):console.log("error submit")})}},mounted:function(){this.form.name=this.$el.attributes.name.value,this.form.previouschapterid=this.$el.attributes.previouschapterid.value,this.form.periouscontent=unescape(this.$el.attributes.periouscontent.value),this.form.periouschaptername=this.$el.attributes.periouschaptername.value,this.form.periousquestion=this.$el.attributes.previousquestion.value,this.form.additionalinfo=this.$el.attributes.additionalinfo.value}})}},[[4,0,1]]]);